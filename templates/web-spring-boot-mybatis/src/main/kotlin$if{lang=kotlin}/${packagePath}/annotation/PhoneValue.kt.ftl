package ${packageName}.annotationimport ${packageName}.annotation.PhoneValue.ValueValidatorimport javax.validation.Constraintimport javax.validation.ConstraintValidatorimport javax.validation.ConstraintValidatorContextimport javax.validation.Payloadimport kotlin.reflect.KClass/** * 自定义枚举识别注解 - 手机号码 * @author ${author} * @since ${now?string("yyyy-MM-dd zzzz")} */@MustBeDocumented@Retention(AnnotationRetention.RUNTIME)@Constraint(validatedBy = [ValueValidator::class])@Target(AnnotationTarget.FIELD, AnnotationTarget.CONSTRUCTOR, AnnotationTarget.VALUE_PARAMETER)annotation class PhoneValue( // 默认错误消息    val message: String = "无效的手机号码", val required: Boolean = false,    val groups: Array<KClass<*>> = [], val payload: Array<KClass<out Payload>> = []) {    class ValueValidator : ConstraintValidator<PhoneValue, String?> {        private var required = false        //这个方法做一些初始化校验        override fun initialize(constraintAnnotation: PhoneValue) {            required = constraintAnnotation.required        }        override fun isValid(value: String?, constraintValidatorContext: ConstraintValidatorContext): Boolean {            return if (required && value == null) {                false            } else value?.matches(Regex("^1\\d{10}$")) ?: true        }    }}